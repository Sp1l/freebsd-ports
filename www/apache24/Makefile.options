# $FreeBSD: head/www/apache24/Makefile.options 445603 2017-07-12 19:31:40Z brnrd $

# ===========================================================
# Only the most important modules are enabled per default in 
# httpd.conf, therfore build all modules not depending on other
# ports, marked as example or developer module.
#
# Required modules without OPTION:
#   UNIXD LOG_CONFIG

AUTH_ENABLED_MODULES= \
	ACCESS_COMPAT ALLOWMETHODS AUTH_BASIC AUTH_DIGEST AUTH_FORM AUTHN_ANON \
	AUTHN_CORE AUTHN_DBD AUTHN_DBM AUTHN_FILE AUTHN_SOCACHE AUTHZ_CORE AUTHZ_DBD \
	AUTHZ_DBM AUTHNZ_FCGI AUTHZ_GROUPFILE AUTHZ_HOST AUTHZ_OWNER AUTHZ_USER
AUTH_DISABLED_MODULES= AUTHNZ_LDAP

<<<<<<< HEAD
CACHE_ENABLED_MODULES= \
	CACHE CACHE_DISK CACHE_SOCACHE FILE_CACHE SOCACHE_DBM SOCACHE_MEMCACHE \
	SOCACHE_SHMCB
CACHE_DISABLED_MODULES=	SOCACHE_DC
=======
# mod_proxy_html and xml2enc depending on libxml2
PROXY_ENABLED_MODULES= \
	PROXY_AJP PROXY_BALANCER PROXY_CONNECT PROXY_EXPRESS PROXY_FCGI \
	PROXY_HTTP2 PROXY_FDPASS PROXY_FTP PROXY_HCHECK PROXY_HTML PROXY_HTTP \
	PROXY_SCGI PROXY_UWSGI PROXY_WSTUNNEL
>>>>>>> fbsd/master

EXAMPLE_DISABLED_MODULES= \
	BUCKETEER CASE_FILTER CASE_FILTER_IN ECHO EXAMPLE_HOOKS EXAMPLE_IPC \
	OPTIONAL_FN_EXPORT OPTIONAL_FN_IMPORT OPTIONAL_HOOK_EXPORT \
	OPTIONAL_HOOK_IMPORT

<<<<<<< HEAD
FILTERS_ENABLED_MODULES = \
        BUFFER CHARSET_LITE DATA DEFLATE EXT_FILTER FILTER INCLUDE RATELIMIT \
	REQTIMEOUT REQUEST SED SUBSTITUTE XML2ENC
FILTERS_DISABLED_MODULES= BROTLI

GENERATORS_ENABLED_MODULES= \
	AUTOINDEX CGI CGID INFO STATUS

LOG_ENABLED_MODULES= \
	DUMPIO LOGIO LOG_CONFIG LOG_DEBUG LOG_FORENSIC USERTRACK
LOG_DISABLED_MODULES= IDENT

MAPPERS_ENABLED_MODULES = \
        ACTIONS ALIAS DIR NEGOTIATION REWRITE SPELING USERDIR VHOST_ALIAS

METADATA_ENABLED_MODULES= \
        CERN_META ENV EXPIRES HEADERS MIME MIME_MAGIC REMOTEIP SETENVIF \
	UNIQUE_ID VERSION

PROXYGR_ENABLED_MODULES= \
	HEARTBEAT HEARTMONITOR PROXY PROXY_AJP PROXY_BALANCER PROXY_CONNECT \
	PROXY_EXPRESS PROXY_FCGI PROXY_FDPASS PROXY_FTP PROXY_HCHECK PROXY_HTML \
	PROXY_HTTP PROXY_HTTP2 PROXY_SCGI PROXY_WSTUNNEL LBMETHOD_BYBUSYNESS \
	LBMETHOD_BYREQUESTS LBMETHOD_BYTRAFFIC LBMETHOD_HEARTBEAT

SECURITY_ENABLED_MODULES=	SSL
SECURITY_DISABLED_MODULES=	SUEXEC

SESSIONGR_ENABLED_MODULES= \
	SESSION SESSION_COOKIE SESSION_CRYPTO SESSION_DBD

NOCAT_ENABLED_MODULES= \
        ASIS DAV DAV_FS DAV_LOCK DATA DBD DIALUP HTTP2 IMAGEMAP MACRO REFLECTOR \
        SLOTMEM_PLAIN SLOTMEM_SHM WATCHDOG

NOCAT_DISABLED_MODULES= \
        LDAP LUA

# Generate OPTIONS_ variables
OPTIONS_GROUP=	AUTH CACHE EXAMPLE FILTERS GENERATORS LOG MAPPERS METADATA \
	PROXYGR SECURITY SESSIONGR NOCAT
.for _grp in ${OPTIONS_GROUP}
ALL_MODULES_CATEGORIES+= ${_grp}_ENABLED ${_grp}_DISABLED
OPTIONS_GROUP_${_grp}=	${${_grp}_ENABLED_MODULES} ${${_grp}_DISABLED_MODULES}
OPTIONS_DEFAULT+=	${${_grp}_ENABLED_MODULES}
.endfor


OPTIONS_DEFINE=	IPV4_MAPPED LUAJIT MPM_SHARED
=======
MOST_ENABLED_MODULES= \
	ACCESS_COMPAT ACTIONS ALIAS ALLOWMETHODS ASIS \
	AUTHN_ANON AUTHN_CORE AUTHN_DBD AUTHN_DBM AUTHN_FILE AUTHN_SOCACHE \
	AUTHZ_CORE AUTHZ_DBD AUTHZ_DBM AUTHNZ_FCGI AUTHZ_GROUPFILE AUTHZ_HOST \
	AUTHZ_OWNER AUTHZ_USER \
	AUTH_BASIC AUTH_DIGEST AUTH_FORM AUTOINDEX \
	BUFFER \
	CACHE CACHE_DISK CACHE_SOCACHE CERN_META CGI CGID \
	CHARSET_LITE \
	DATA DAV DAV_FS DAV_LOCK DBD DEFLATE DIALUP DIR DUMPIO \
	ENV EXPIRES EXT_FILTER \
	FILE_CACHE FILTER \
	HEADERS HEARTBEAT HEARTMONITOR HTTP2 \
	IMAGEMAP INCLUDE INFO \
	LBMETHOD_BYBUSYNESS LBMETHOD_BYREQUESTS LBMETHOD_BYTRAFFIC \
	LBMETHOD_HEARTBEAT LOGIO LOG_DEBUG LOG_FORENSIC \
	MACRO MIME MIME_MAGIC \
	NEGOTIATION \
	RATELIMIT REFLECTOR REMOTEIP REQTIMEOUT REQUEST REWRITE \
	SED SETENVIF \
	SLOTMEM_PLAIN SLOTMEM_SHM SOCACHE_DBM SOCACHE_MEMCACHE SOCACHE_SHMCB \
	SPELING SSL STATUS SUBSTITUTE \
	UNIQUE_ID USERDIR USERTRACK \
	VERSION VHOST_ALIAS \
	WATCHDOG XML2ENC

MOST_DISABLED_MODULES= \
	AUTHNZ_LDAP BROTLI IDENT LDAP LUA MD SOCACHE_DC SUEXEC

#     enable/disable additional PROXY/SESSION modules
META_MODULES=	PROXY SESSION

ADDITIONAL_OPT=	LUAJIT IPV4_MAPPED

# ===================================================================================

OPTIONS_MULTI=		${META_MODULES}
OPTIONS_MULTI_PROXY=	${PROXY_ENABLED_MODULES} ${PROXY_DISABLED_MODULES}
OPTIONS_MULTI_SESSION=	${SESSION_ENABLED_MODULES} ${SESSION_DISABLED_MODULES}

OPTIONS_GROUP=		EXAMPLE
OPTIONS_GROUP_EXAMPLE=	${EXAMPLE_MODULES}

OPTIONS_RADIO=		MPM_SHARED
OPTIONS_RADIO_MPM_SHARED=	MPM_SHARED
>>>>>>> fbsd/master

OPTIONS_SINGLE=			DEFAULT_MPM
OPTIONS_SINGLE_DEFAULT_MPM=	MPM_PREFORK MPM_WORKER MPM_EVENT

<<<<<<< HEAD
OPTIONS_DEFAULT+=	MPM_SHARED MPM_PREFORK
=======
# ===================================================================================

ALL_MODULES=	${MOST_ENABLED_MODULES} ${MOST_DISABLED_MODULES} \
	${PROXY_ENABLED_MODULES} ${PROXY_DISABLED_MODULES} \
	${SESSION_ENABLED_MODULES} ${SESSION_DISABLED_MODULES} \
	${EXAMPLE_MODULES} ${META_MODULES}

OPTIONS_DEFINE=		\
	${MOST_ENABLED_MODULES}	\
	${MOST_DISABLED_MODULES}\
	${ADDITIONAL_OPT}	\
	${OPTIONS_MULTI}

OPTIONS_DEFAULT=		\
	${MOST_ENABLED_MODULES}	\
	${OPTIONS_MULTI}	\
	${SESSION_ENABLED_MODULES} \
	${PROXY_ENABLED_MODULES} \
	MPM_SHARED \
	MPM_PREFORK
>>>>>>> fbsd/master
